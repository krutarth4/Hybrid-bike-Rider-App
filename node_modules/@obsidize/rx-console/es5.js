(()=>{"use strict";var t={d:(e,r)=>{for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function r(){return!0}function s(t){return"function"==typeof t}function i(t){return"string"==typeof t}function n(t){return"number"==typeof t&&!Number.isNaN(t)}function a(t,e){return i(t)&&t.length>e?`${t.substring(0,e)}...`:t}function o(t){try{return JSON.stringify(t)}catch(e){return t+""}}function u(t,e=250){return a(o(t),e)}function h(t,e=" :: ",r){if(Array.isArray(t)&&t.length>0){return e+t.map((t=>u(t,r))).join(e)}return""}t.r(e),t.d(e,{EventEmitter:()=>EventEmitter,LogEvent:()=>LogEvent,LogEventBuffer:()=>LogEventBuffer,LogEventGuard:()=>LogEventGuard,LogEventGuardContext:()=>LogEventGuardContext,LogLevel:()=>c,LogLevelNameMap:()=>LogLevelNameMap,Logger:()=>Logger,LoggerTransport:()=>LoggerTransport,callConsoleDynamic:()=>l,getPrimaryLoggerTransport:()=>E,jsonStringifySafe:()=>o,stringify:()=>u,stringifyAndJoin:()=>h,stringifyLogEvent:()=>p,stringifyLogEventBaseValues:()=>f,truncate:()=>a});class EventEmitter{constructor(){this.mListeners=[]}get listenerCount(){return this.mListeners.length}emit(t){for(const e of this.mListeners)e(t)}hasListener(t){return this.mListeners.indexOf(t)>=0}addListener(t){return s(t)&&!this.hasListener(t)&&this.mListeners.push(t),this}removeListener(t){const e=this.mListeners.indexOf(t);return e>=0&&this.mListeners.splice(e,1),this}removeAllListeners(){for(;this.mListeners.length>0;)this.mListeners.pop();return this}asObservable(t){return t((t=>this.addListener(t)),(t=>this.removeListener(t)))}}const c={VERBOSE:100,TRACE:200,DEBUG:300,INFO:400,WARN:500,ERROR:600,FATAL:1e3},m=[];function l(t,e,r,s=m){e>=c.ERROR?t.error(r,...s):e>=c.WARN?t.warn(r,...s):t.log(r,...s)}function g(t){return`L-${t}`}class LogLevelNameMap{constructor(){this.namesByLevel=new Map,this.config=c,this.customizer=g,this.reset()}get(t){return this.namesByLevel.get(t)||this.customizer(t)}reset(){this.namesByLevel.clear(),this.update(this.config)}update(t){var e;if("object"==typeof(e=t)&&null!==e)for(const[e,r]of Object.entries(t))i(e)&&n(r)&&this.namesByLevel.set(r,e)}}function f(t){if(!t)return t+"";const{tag:e,level:r,message:s,timestamp:i}=t;return`${new Date(i).toJSON()} [${LogLevelNameMap.main.get(r)}] [${e}] ${s}`}function p(t){if(!t)return t+"";return f(t)+h(t.params)}function d(t,e=f,r=console){l(r,t.level,e(t),t.params)}LogLevelNameMap.main=new LogLevelNameMap;class LogEvent{constructor(t,e,r,s,i){this.initialize(t,e,r,s,i)}static stringify(t,e){return e?f(t):p(t)}toString(t){return LogEvent.stringify(this,t)}initialize(t,e,r,s,i=Date.now()){this.level=t,this.tag=e,this.message=r,this.params=s,this.timestamp=i}}function L(t,e,r,s){return new LogEvent(t,e,r,s)}class LogEventBuffer{constructor(){this.items=[],this.mCapacity=1,this.mCursor=0,this.mOnCreate=L}get capacity(){return this.mCapacity}set capacity(t){n(t)&&(this.mCapacity=Math.max(0,Math.round(t)))}get onCreateEvent(){return this.mOnCreate}set onCreateEvent(t){this.mOnCreate=s(t)?t:L}clear(){for(;this.items.length>0;)this.items.pop();this.mCursor=0}get(t,e,r,s){if(this.capacity<=0)return this.onCreateEvent(t,e,r,s);if(this.items.length<this.capacity){const i=this.onCreateEvent(t,e,r,s);return this.items.push(i),i}const i=this.items[this.mCursor];return i.initialize(t,e,r,s),this.mCursor=(this.mCursor+1)%this.items.length,i}}class LogEventGuard{constructor(){this.mFilter=r,this.mode=0}get filter(){return this.mFilter}set filter(t){this.mFilter=s(t)?t:r}setFilter(t){return this.filter=t,this}setMode(t){return this.mode=t,this}filterAccepts(t){return!!this.mFilter(t)}accepts(t){switch(this.mode){case 1:return!0;case 2:return!1;default:return this.filterAccepts(t)}}}class LogEventGuardContext{constructor(){this.guard=new LogEventGuard}isEnabled(){return 2!==this.guard.mode}accepts(t){return this.guard.accepts(t)}setFilter(t){return this.guard.setFilter(t),this}setEnabled(t){if(t!==this.isEnabled()){const e=t?0:2;this.guard.setMode(e)}return this}}class LoggerTransport extends LogEventGuardContext{constructor(){super(...arguments),this.mEvents=new EventEmitter,this.mInterceptProxy=this.send.bind(this),this.mDefaultBroadcastDelegate=d,this.buffer=new LogEventBuffer}events(){return this.mEvents}disableEventCaching(){return this.buffer.capacity=0,this}pipeTo(t){return t!==this&&this.mEvents.addListener(t.mInterceptProxy),this}unpipeFrom(t){return this.mEvents.removeListener(t.mInterceptProxy),this}pipeToDefault(){return this.pipeTo(E())}unpipeFromDefault(){return this.unpipeFrom(E())}isDefaultBroadcastEnabled(){return this.mEvents.hasListener(this.mDefaultBroadcastDelegate)}enableDefaultBroadcast(){return this.mEvents.addListener(this.mDefaultBroadcastDelegate),this}disableDefaultBroadcast(){return this.mEvents.removeListener(this.mDefaultBroadcastDelegate),this}setDefaultBroadcastEnabled(t){return t?this.enableDefaultBroadcast():this.disableDefaultBroadcast()}createEvent(t,e,r,s){return this.buffer.get(t,e,r,s)}send(t){this.accepts(t)&&this.mEvents.emit(t)}}let v;function E(){return void 0===v&&(v=new LoggerTransport),v}class Logger extends LogEventGuardContext{constructor(t,e=E()){super(),this.name=t,this.transport=e}use(t){return this.transport=t,this}verbose(t,...e){this.emit(c.VERBOSE,t,e)}trace(t,...e){this.emit(c.TRACE,t,e)}debug(t,...e){this.emit(c.DEBUG,t,e)}log(t,...e){this.emit(c.DEBUG,t,e)}info(t,...e){this.emit(c.INFO,t,e)}warn(t,...e){this.emit(c.WARN,t,e)}error(t,...e){this.emit(c.ERROR,t,e)}fatal(t,...e){this.emit(c.FATAL,t,e)}createEvent(t,e,r){return this.transport.createEvent(t,this.name,e,r)}emit(t,e,r){const s=this.createEvent(t,e,r);this.accepts(s)&&this.transport.send(s)}}module.exports=e})();