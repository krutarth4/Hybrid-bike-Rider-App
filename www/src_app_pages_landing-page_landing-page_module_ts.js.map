{"version":3,"file":"src_app_pages_landing-page_landing-page_module_ts.js","mappings":"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","sources":["./src/app/pages/landing-page/landing-page-routing.module.ts","./src/app/pages/landing-page/landing-page.module.ts","./src/app/pages/landing-page/landing-page.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LandingPagePage } from './landing-page.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LandingPagePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LandingPagePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LandingPagePageRoutingModule } from './landing-page-routing.module';\n\nimport { LandingPagePage } from './landing-page.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LandingPagePageRoutingModule\n  ],\n  declarations: [LandingPagePage]\n})\nexport class LandingPagePageModule {}\n","import { ChangeDetectorRef, Component, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { Diagnostic } from \"@awesome-cordova-plugins/diagnostic/ngx\";\nimport { Platform } from \"@ionic/angular\";\n\n@Component({\n  selector: \"app-landing-page\",\n  templateUrl: \"./landing-page.page.html\",\n  styleUrls: [\"./landing-page.page.scss\"],\n})\nexport class LandingPagePage implements OnInit {\n  whileinappusebutton: boolean = false;\n  locationbutton: boolean = false;\n  allowallthetimebutton: boolean = false;\n  whileinappusespinner: boolean = false;\n  locationispinner: boolean = false;\n  allowallthetimespinner: boolean = false;\n  nextbutton: boolean = true;\n  enableNextInterval;\n  constructor(\n    private diagnostic: Diagnostic,\n    private platform: Platform,\n    private ref: ChangeDetectorRef,\n    private router: Router\n  ) {\n    this.enableNextInterval = setInterval(() => {\n      this.enableNext();\n    }, 1500);\n  }\n\n  // total number of permissions required\n  totalPermissionRequired = 3;\n\n  // Permissions granted\n  permissionsGranted = 0;\n\n  ngOnInit() {\n    this.ref.detectChanges();\n    if (!this.platform.is(\"android\")) {\n      this.goToHome(true, \"platform not android \");\n    } else {\n      this.platform.ready().then(() => {\n        this.permissionsGranted = 0;\n        this.diagnostic.isGpsLocationEnabled().then((succ) => {\n          this.locationispinner = true;\n          console.log(\"location permission\", succ);\n          if (succ) {\n            this.locationbutton = true;\n            this.permissionsGranted++;\n          } else {\n            this.locationbutton = false;\n          }\n        });\n        this.diagnostic\n          .getLocationAuthorizationStatus()\n          .then(async (suc) => {\n            console.log(\"getlocationauthorizationstatues\", suc);\n            this.allowallthetimespinner = true;\n            this.whileinappusespinner = true;\n            if (suc == \"GRANTED\") {\n              console.log(\"getLocationAuthorizationStatuses() \", suc);\n              this.whileinappusebutton = true;\n              this.allowallthetimebutton = true;\n              this.permissionsGranted += 2;\n            } else if (suc == \"GRANTED_WHEN_IN_USE\") {\n              console.log(\"getLocationAuthorizationStatus() \", suc);\n              this.whileinappusebutton = true;\n              this.permissionsGranted++;\n            } else {\n              this.whileinappusebutton = false;\n              this.allowallthetimebutton = false;\n            }\n          })\n          .then(() => {\n            setTimeout(() => {\n              this.goToHome(false, \"timeout\");\n            }, 1200);\n          });\n      });\n    }\n  }\n  ionViewDidEnter() {\n    // console.log(\"ionviewdidenter\")\n    this.goToHome(false, \"didenter\");\n  }\n\n  GetLocationPermission() {\n    this.platform.ready().then(() => {\n      this.diagnostic.switchToLocationSettings();\n      this.diagnostic.registerLocationStateChangeHandler(async (res) => {\n        console.log(\"Change in state of location\", res);\n        if (res == \"high_accuracy\") {\n          this.changeLocationbutton();\n          // this.permissionsGranted++;\n          this.ngOnInit();\n        } else {\n          this.locationbutton = false;\n        }\n      });\n    });\n  }\n  changeLocationbutton() {\n    console.log(\"changelocation called\");\n    this.locationbutton = true;\n    this.permissionsGranted++;\n  }\n  precision_WhileInUse() {\n    this.platform.ready().then(() => {\n      this.diagnostic\n        .requestLocationAuthorization(\"when_in_use\")\n        .then((succ) => {\n          console.log(\"precision while in use\", succ);\n          if (\n            succ == \"authorized_when_in_use\" ||\n            succ == \"GRANTED_WHEN_IN_USE\"\n          ) {\n            this.whileinappusebutton = true;\n            this.permissionsGranted++;\n          } else {\n            this.whileinappusebutton = false;\n          }\n        });\n    });\n  }\n  precision_allowAllTheTime() {\n    this.platform.ready().then(() => {\n      console.log(\"preciseallowalltheime\");\n      this.diagnostic.requestLocationAuthorization(\"always\").then((succ) => {\n        console.log(\"allowallthe time\", succ);\n        if (succ == \"GRANTED\") {\n          this.allowallthetimebutton = true;\n          this.permissionsGranted++;\n        } else {\n          this.allowallthetimebutton = false;\n        }\n      });\n    });\n  }\n\n  enableNext() {\n    if (this.permissionsGranted == this.totalPermissionRequired) {\n      console.log(\"enabling next button\");\n\n      this.nextbutton = false;\n      clearInterval(this.enableNextInterval);\n      // ! go to home page automatically\n    } else {\n      this.nextbutton = true;\n    }\n  }\n\n  goToHome(forced?: boolean, callLevel?) {\n    console.log(\n      \"going home permission granted\",\n      this.permissionsGranted,\n      \"call level\",\n      callLevel\n    );\n    if (forced) {\n      this.router.navigateByUrl(\"/home\").then(\n        () => {\n          console.log(\"succesfull navigation \");\n        },\n        (err) => {\n          console.log(\"Transition error from Tripproposal to home page\", err);\n          this.router.navigateByUrl(\"/home\");\n        }\n      );\n    }\n    if (this.permissionsGranted == this.totalPermissionRequired) {\n      this.router.navigateByUrl(\"/home\").then(\n        () => {\n          console.log(\"succesfull navigation \");\n        },\n        (err) => {\n          console.log(\"Transition error from landing to home page\", err);\n          this.router.navigateByUrl(\"/home\");\n        }\n      );\n    }\n  }\n  ionViewWillLeave() {\n    clearInterval(this.enableNextInterval);\n  }\n}\n"],"names":["ChangeDetectorRef","Component","Router","Diagnostic","Platform","LandingPagePage","constructor","diagnostic","platform","ref","router","enableNextInterval","setInterval","enableNext","ngOnInit","detectChanges","is","goToHome","ready","then","permissionsGranted","isGpsLocationEnabled","succ","locationispinner","console","log","locationbutton","getLocationAuthorizationStatus","suc","allowallthetimespinner","whileinappusespinner","whileinappusebutton","allowallthetimebutton","setTimeout","ionViewDidEnter","GetLocationPermission","switchToLocationSettings","registerLocationStateChangeHandler","res","changeLocationbutton","precision_WhileInUse","requestLocationAuthorization","precision_allowAllTheTime","totalPermissionRequired","nextbutton","clearInterval","forced","callLevel","navigateByUrl","err","ionViewWillLeave","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}